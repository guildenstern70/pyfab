{% extends "base_leftsidebar.html" %}

{% block title %}FableMe - Change Password{% endblock %}

{% block maincontent %}
<div class="row">

    <div class="large-8 push-4 columns">
    
        <div class="row">
            <h3>
                Change Password
            </h3>
        </div>
        <div class="row">
            <div class="row">&nbsp;</div><div class="row">&nbsp;</div>
            <section class="section">
                {% if wrongold %}
                    <div>
                        <div data-alert class="alert-box warning radius">
                          You entered the wrong old password. Please retry.
                          <a href="#" class="close">&times;</a>
                        </div>
                    </div>
                 {% endif %}
                 <form id="changepasswordform" action="/changepassword" method="POST">
                      <div class="row collapse">
                        <div class="small-12 columns">
                        <hr>
                        </div>
                      </div>
                          <div class="row collapse">
                            <div class="small-3 columns">
                              <label for="old-password" class="right inline">Your old password: &nbsp;&nbsp;</label>
                            </div>
                            <div class="small-7 columns left">
                              <input type="password" name="old-password" id="old-password" required="true">
                            </div>
                          </div>
                          <div class="row collapse">
                            <div class="small-3 columns ">
                              <label for="password" class="right inline">New Password: &nbsp;&nbsp;</label>
                            </div>
                            <div class="small-7 columns left ">
                              <input type="password" id="password" name="password" required="true">
                            </div>
                          </div>
                          <div class="row collapse">
                            <div class="small-3 columns ">
                              <label for="confirm_password" class="right inline">Confirm: &nbsp;&nbsp;</label>
                            </div>
                            <div class="small-7 columns left ">
                              <input type="password" id="confirm_password" name="confirm_password" required="true" >
                            </div>
                          </div>
                          <div class="row collapse">
                            <div class="small-12 columns text-center">
                                <input type="submit" class="button secondary" value="Submit">
                            </div>
                          </div>
                      </form>

            </section>
        </div>
        <div class="row">
            <div class="row">&nbsp;</div>
            <div class="row">&nbsp;</div>
            <div class="row">&nbsp;</div>
            <a href="/" class="button">Home</a>
        </div>

    </div><!-- <div class="large-9 push-3 columns"> -->
    
    <!-- This is source ordered to be pulled to the left on larger screens -->
    <div class="large-4 pull-8 columns">
        <div class="row">
            <a href="#"><img src="/img/Anna.jpg" width="260px" /></a> 
            <br /><br /><br />
        </div>
        <div class="row">&nbsp;</div>
        <div class="row">&nbsp;</div>
        <div class="row">&nbsp;</div>
        <div class="row">&nbsp;</div>
        <div class="row">&nbsp;</div>
        <div class="row">&nbsp;</div>
    </div>
    
</div><!-- div class="row" -->
{% endblock %}

{% block extralatejavascripts %}
    <script>

        var password = document.getElementById("password")
          , confirm_password = document.getElementById("confirm_password");

        function validatePassword(){
          if(password.value != confirm_password.value) {
            confirm_password.setCustomValidity("Passwords do not match");
          } else {
            confirm_password.setCustomValidity('');
          }
        }

        password.onchange = validatePassword;
        confirm_password.onkeyup = validatePassword;

    </script>
{% endblock extralatejavascripts %}
